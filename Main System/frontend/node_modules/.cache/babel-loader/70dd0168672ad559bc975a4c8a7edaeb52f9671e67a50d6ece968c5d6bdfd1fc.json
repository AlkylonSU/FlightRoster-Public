{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./PlaneView.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const seatsLayout=[{id:'1A',type:'business',row:1,col:1},{id:'1B',type:'business',row:1,col:2},{id:'1C',type:'business',row:1,col:3},{id:'1D',type:'business',row:1,col:4},{id:'1E',type:'business',row:1,col:5},{id:'1F',type:'business',row:1,col:6},{id:'2A',type:'economy',row:2,col:1},{id:'2B',type:'economy',row:2,col:2},{id:'2C',type:'economy',row:2,col:3},{id:'2D',type:'economy',row:2,col:4},{id:'2E',type:'economy',row:2,col:5},{id:'2F',type:'economy',row:2,col:6}// Add more seats as needed\n];const PlaneView=()=>{const[passengers,setPassengers]=useState([]);const[hoveredPassenger,setHoveredPassenger]=useState(null);const[hoverPosition,setHoverPosition]=useState({top:0,left:0});const[hoverVisible,setHoverVisible]=useState(false);useEffect(()=>{// Fetch passengers\nfetch('http://localhost:8000/api/passengerinfo/flight/ABC123/').then(response=>response.json()).then(data=>{console.log('Passengers fetched:',data);setPassengers(data);}).catch(error=>console.error('Error fetching passengers:',error));},[]);const handleMouseEnter=(passenger,event)=>{const rect=event.target.getBoundingClientRect();setHoverPosition({top:rect.top+window.scrollY-100,// Adjust this value to position the hover box\nleft:rect.left+window.scrollX});setHoveredPassenger(passenger);setHoverVisible(true);};const handleMouseLeave=()=>{setHoverVisible(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"plane-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"plane\",children:seatsLayout.map(seat=>{const passenger=passengers.find(p=>p.seat_number===seat.id);return/*#__PURE__*/_jsx(\"div\",{className:\"seat \".concat(seat.type),onMouseEnter:event=>passenger&&handleMouseEnter(passenger,event),onMouseLeave:handleMouseLeave,children:/*#__PURE__*/_jsx(\"span\",{children:seat.id})},seat.id);})}),hoverVisible&&hoveredPassenger&&/*#__PURE__*/_jsxs(\"div\",{className:\"hover-info\",style:{top:hoverPosition.top,left:hoverPosition.left},children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",hoveredPassenger.passenger_name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",hoveredPassenger.age]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gender:\"}),\" \",hoveredPassenger.gender]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nationality:\"}),\" \",hoveredPassenger.nationality]})]})]});};export default PlaneView;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","seatsLayout","id","type","row","col","PlaneView","passengers","setPassengers","hoveredPassenger","setHoveredPassenger","hoverPosition","setHoverPosition","top","left","hoverVisible","setHoverVisible","fetch","then","response","json","data","console","log","catch","error","handleMouseEnter","passenger","event","rect","target","getBoundingClientRect","window","scrollY","scrollX","handleMouseLeave","className","children","map","seat","find","p","seat_number","concat","onMouseEnter","onMouseLeave","style","passenger_name","age","gender","nationality"],"sources":["D:/Projects/FlightRoster/Main System/frontend/src/components/views/PlaneView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './PlaneView.css';\r\n\r\nconst seatsLayout = [\r\n  { id: '1A', type: 'business', row: 1, col: 1 },\r\n  { id: '1B', type: 'business', row: 1, col: 2 },\r\n  { id: '1C', type: 'business', row: 1, col: 3 },\r\n  { id: '1D', type: 'business', row: 1, col: 4 },\r\n  { id: '1E', type: 'business', row: 1, col: 5 },\r\n  { id: '1F', type: 'business', row: 1, col: 6 },\r\n  { id: '2A', type: 'economy', row: 2, col: 1 },\r\n  { id: '2B', type: 'economy', row: 2, col: 2 },\r\n  { id: '2C', type: 'economy', row: 2, col: 3 },\r\n  { id: '2D', type: 'economy', row: 2, col: 4 },\r\n  { id: '2E', type: 'economy', row: 2, col: 5 },\r\n  { id: '2F', type: 'economy', row: 2, col: 6 },\r\n  // Add more seats as needed\r\n];\r\n\r\nconst PlaneView = () => {\r\n  const [passengers, setPassengers] = useState([]);\r\n  const [hoveredPassenger, setHoveredPassenger] = useState(null);\r\n  const [hoverPosition, setHoverPosition] = useState({ top: 0, left: 0 });\r\n  const [hoverVisible, setHoverVisible] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Fetch passengers\r\n    fetch('http://localhost:8000/api/passengerinfo/flight/ABC123/')\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        console.log('Passengers fetched:', data);\r\n        setPassengers(data);\r\n      })\r\n      .catch(error => console.error('Error fetching passengers:', error));\r\n  }, []);\r\n\r\n  const handleMouseEnter = (passenger, event) => {\r\n    const rect = event.target.getBoundingClientRect();\r\n    setHoverPosition({\r\n      top: rect.top + window.scrollY - 100, // Adjust this value to position the hover box\r\n      left: rect.left + window.scrollX\r\n    });\r\n    setHoveredPassenger(passenger);\r\n    setHoverVisible(true);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHoverVisible(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"plane-container\">\r\n      <div className=\"plane\">\r\n        {seatsLayout.map(seat => {\r\n          const passenger = passengers.find(p => p.seat_number === seat.id);\r\n          return (\r\n            <div\r\n              key={seat.id}\r\n              className={`seat ${seat.type}`}\r\n              onMouseEnter={(event) => passenger && handleMouseEnter(passenger, event)}\r\n              onMouseLeave={handleMouseLeave}\r\n            >\r\n              <span>{seat.id}</span>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {hoverVisible && hoveredPassenger && (\r\n        <div className=\"hover-info\" style={{ top: hoverPosition.top, left: hoverPosition.left }}>\r\n          <p><strong>Name:</strong> {hoveredPassenger.passenger_name}</p>\r\n          <p><strong>Age:</strong> {hoveredPassenger.age}</p>\r\n          <p><strong>Gender:</strong> {hoveredPassenger.gender}</p>\r\n          <p><strong>Nationality:</strong> {hoveredPassenger.nationality}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaneView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}