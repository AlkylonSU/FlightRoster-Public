{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./PassengerTable.css';// Import CSS file for styling\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CombinedTable=_ref=>{let{data}=_ref;const[selectedPerson,setSelectedPerson]=useState(null);const handleRowClick=person=>{setSelectedPerson(person);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"All People on the Flight\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"passenger-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gender\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nationality\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Additional Info\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:data.map(person=>/*#__PURE__*/_jsxs(\"tr\",{onClick:()=>handleRowClick(person),children:[/*#__PURE__*/_jsx(\"td\",{children:person.id}),/*#__PURE__*/_jsx(\"td\",{children:person.type}),/*#__PURE__*/_jsx(\"td\",{children:person.name}),/*#__PURE__*/_jsx(\"td\",{children:person.age}),/*#__PURE__*/_jsx(\"td\",{children:person.gender}),/*#__PURE__*/_jsx(\"td\",{children:person.nationality}),/*#__PURE__*/_jsx(\"td\",{children:person.additionalInfo})]},person.id))})]}),selectedPerson&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"User Information\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"ID:\"}),\" \",selectedPerson.id]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",selectedPerson.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Age:\"}),\" \",selectedPerson.age]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Gender:\"}),\" \",selectedPerson.gender]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Nationality:\"}),\" \",selectedPerson.nationality]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Type:\"}),\" \",selectedPerson.type]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Additional Info:\"}),\" \",selectedPerson.additionalInfo]})]})]});};const TabularView=()=>{const[data,setData]=useState([]);useEffect(()=>{// Fetch passengers\nfetch('http://localhost:8000/api/passengerinfo/flight/ABC123/').then(response=>response.json()).then(passengers=>{const formattedPassengers=passengers.map(passenger=>({id:passenger.passenger_id,type:'Passenger',name:passenger.passenger_name,age:passenger.age,gender:passenger.gender,nationality:passenger.nationality,additionalInfo:\"Seat Type: \".concat(passenger.seat_type,\", Children: \").concat(passenger.children&&passenger.children.length>0?passenger.children.map(child=>child.child_name).join(', '):'No children')}));// Fetch flight crew\nfetch('http://localhost:8080/backend/fetch-and-select-flight-crew/').then(response=>response.json()).then(flightCrew=>{const formattedFlightCrew=flightCrew.map(crew=>({id:crew.pilot_id,type:'Flight Crew',name:crew.name,age:crew.age,gender:crew.gender,nationality:crew.nationality,additionalInfo:\"Vehicle Restriction: \".concat(crew.vehicle_restriction,\", Allowed Range: \").concat(crew.allowed_range,\", Seniority Level: \").concat(crew.seniority_level)}));// Fetch cabin crew\nfetch('http://localhost:8080/backend/fetch-and-select-crew/').then(response=>response.json()).then(cabinCrew=>{const formattedCabinCrew=cabinCrew.map(crew=>({id:crew.attendant_id,type:'Cabin Crew',name:crew.name,age:crew.age,gender:crew.gender,nationality:crew.nationality,additionalInfo:\"Vehicle Restrictions: \".concat(crew.vehicle_restrictions,\", Attendant Type: \").concat(crew.attendant_type)}));// Combine all data\nsetData([...formattedPassengers,...formattedFlightCrew,...formattedCabinCrew]);});});}).catch(error=>console.error('Error fetching data:',error));},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tabular View - Interior of the Plane\"}),/*#__PURE__*/_jsx(CombinedTable,{data:data})]});};export default TabularView;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CombinedTable","_ref","data","selectedPerson","setSelectedPerson","handleRowClick","person","children","className","map","onClick","id","type","name","age","gender","nationality","additionalInfo","TabularView","setData","fetch","then","response","json","passengers","formattedPassengers","passenger","passenger_id","passenger_name","concat","seat_type","length","child","child_name","join","flightCrew","formattedFlightCrew","crew","pilot_id","vehicle_restriction","allowed_range","seniority_level","cabinCrew","formattedCabinCrew","attendant_id","vehicle_restrictions","attendant_type","catch","error","console"],"sources":["D:/Projects/FlightRoster/Main System/frontend/src/components/views/TabularView.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './PassengerTable.css'; // Import CSS file for styling\r\n\r\nconst CombinedTable = ({ data }) => {\r\n  const [selectedPerson, setSelectedPerson] = useState(null);\r\n\r\n  const handleRowClick = (person) => {\r\n    setSelectedPerson(person);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>All People on the Flight</h2>\r\n      <table className=\"passenger-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>Type</th>\r\n            <th>Full Name</th>\r\n            <th>Age</th>\r\n            <th>Gender</th>\r\n            <th>Nationality</th>\r\n            <th>Additional Info</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data.map((person) => (\r\n            <tr key={person.id} onClick={() => handleRowClick(person)}>\r\n              <td>{person.id}</td>\r\n              <td>{person.type}</td>\r\n              <td>{person.name}</td>\r\n              <td>{person.age}</td>\r\n              <td>{person.gender}</td>\r\n              <td>{person.nationality}</td>\r\n              <td>{person.additionalInfo}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      {selectedPerson && (\r\n        <div className=\"user-card\">\r\n          <h3>User Information</h3>\r\n          <p><strong>ID:</strong> {selectedPerson.id}</p>\r\n          <p><strong>Name:</strong> {selectedPerson.name}</p>\r\n          <p><strong>Age:</strong> {selectedPerson.age}</p>\r\n          <p><strong>Gender:</strong> {selectedPerson.gender}</p>\r\n          <p><strong>Nationality:</strong> {selectedPerson.nationality}</p>\r\n          <p><strong>Type:</strong> {selectedPerson.type}</p>\r\n          <p><strong>Additional Info:</strong> {selectedPerson.additionalInfo}</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TabularView = () => {\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    // Fetch passengers\r\n    fetch('http://localhost:8000/api/passengerinfo/flight/ABC123/')\r\n      .then(response => response.json())\r\n      .then(passengers => {\r\n        const formattedPassengers = passengers.map(passenger => ({\r\n          id: passenger.passenger_id,\r\n          type: 'Passenger',\r\n          name: passenger.passenger_name,\r\n          age: passenger.age,\r\n          gender: passenger.gender,\r\n          nationality: passenger.nationality,\r\n          additionalInfo: `Seat Type: ${passenger.seat_type}, Children: ${\r\n            passenger.children && passenger.children.length > 0\r\n              ? passenger.children.map(child => child.child_name).join(', ')\r\n              : 'No children'\r\n          }`\r\n        }));\r\n        \r\n        // Fetch flight crew\r\n        fetch('http://localhost:8080/backend/fetch-and-select-flight-crew/')\r\n          .then(response => response.json())\r\n          .then(flightCrew => {\r\n            const formattedFlightCrew = flightCrew.map(crew => ({\r\n              id: crew.pilot_id,\r\n              type: 'Flight Crew',\r\n              name: crew.name,\r\n              age: crew.age,\r\n              gender: crew.gender,\r\n              nationality: crew.nationality,\r\n              additionalInfo: `Vehicle Restriction: ${crew.vehicle_restriction}, Allowed Range: ${crew.allowed_range}, Seniority Level: ${crew.seniority_level}`\r\n            }));\r\n\r\n            // Fetch cabin crew\r\n            fetch('http://localhost:8080/backend/fetch-and-select-crew/')\r\n              .then(response => response.json())\r\n              .then(cabinCrew => {\r\n                const formattedCabinCrew = cabinCrew.map(crew => ({\r\n                  id: crew.attendant_id,\r\n                  type: 'Cabin Crew',\r\n                  name: crew.name,\r\n                  age: crew.age,\r\n                  gender: crew.gender,\r\n                  nationality: crew.nationality,\r\n                  additionalInfo: `Vehicle Restrictions: ${crew.vehicle_restrictions}, Attendant Type: ${crew.attendant_type}`\r\n                }));\r\n\r\n                // Combine all data\r\n                setData([...formattedPassengers, ...formattedFlightCrew, ...formattedCabinCrew]);\r\n              });\r\n          });\r\n      })\r\n      .catch(error => console.error('Error fetching data:', error));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <h1>Tabular View - Interior of the Plane</h1>\r\n      <CombinedTable data={data} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TabularView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}