{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useFlight}from'../context/FlightContext';// Ensure the path is correct\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SelectFlight=()=>{const[flights,setFlights]=useState([]);const[selectedFlight,setSelectedFlight]=useState('');const navigate=useNavigate();const{setSelectedFlight:setGlobalSelectedFlight}=useFlight();useEffect(()=>{fetch('https://api.example.com/flights')// Replace with your API endpoint\n.then(response=>response.json()).then(data=>setFlights(data)).catch(error=>console.error('Error fetching flights:',error));},[]);const handleSelection=e=>{setSelectedFlight(e.target.value);};const handleSubmit=e=>{e.preventDefault();if(selectedFlight){const selectedFlightData=flights.find(flight=>flight.flight_number===selectedFlight);setGlobalSelectedFlight(selectedFlightData);navigate(\"/home/\".concat(selectedFlight));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Select Flight\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"flights\",children:\"Choose a flight:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"flights\",value:selectedFlight,onChange:handleSelection,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a flight\"}),flights.map(flight=>/*#__PURE__*/_jsxs(\"option\",{value:flight.flight_number,children:[flight.flight_number,\" - \",flight.source_city,\" to \",flight.destination_city]},flight.flight_number))]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Confirm\"})]})]});};export default SelectFlight;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useFlight","jsx","_jsx","jsxs","_jsxs","SelectFlight","flights","setFlights","selectedFlight","setSelectedFlight","navigate","setGlobalSelectedFlight","fetch","then","response","json","data","catch","error","console","handleSelection","e","target","value","handleSubmit","preventDefault","selectedFlightData","find","flight","flight_number","concat","children","onSubmit","htmlFor","id","onChange","disabled","map","source_city","destination_city","type"],"sources":["D:/Projects/FlightRoster/Main System/frontend/src/components/SelectFlight.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useFlight } from '../context/FlightContext'; // Ensure the path is correct\r\n\r\nconst SelectFlight = () => {\r\n  const [flights, setFlights] = useState([]);\r\n  const [selectedFlight, setSelectedFlight] = useState('');\r\n  const navigate = useNavigate();\r\n  const { setSelectedFlight: setGlobalSelectedFlight } = useFlight();\r\n\r\n  useEffect(() => {\r\n    fetch('https://api.example.com/flights') // Replace with your API endpoint\r\n      .then(response => response.json())\r\n      .then(data => setFlights(data))\r\n      .catch(error => console.error('Error fetching flights:', error));\r\n  }, []);\r\n\r\n  const handleSelection = (e) => {\r\n    setSelectedFlight(e.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (selectedFlight) {\r\n      const selectedFlightData = flights.find(flight => flight.flight_number === selectedFlight);\r\n      setGlobalSelectedFlight(selectedFlightData);\r\n      navigate(`/home/${selectedFlight}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Select Flight</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <label htmlFor=\"flights\">Choose a flight:</label>\r\n        <select id=\"flights\" value={selectedFlight} onChange={handleSelection}>\r\n          <option value=\"\" disabled>Select a flight</option>\r\n          {flights.map((flight) => (\r\n            <option key={flight.flight_number} value={flight.flight_number}>\r\n              {flight.flight_number} - {flight.source_city} to {flight.destination_city}\r\n            </option>\r\n          ))}\r\n        </select>\r\n        <button type=\"submit\">Confirm</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectFlight;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,KAAQ,0BAA0B,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,cAAc,CAAEC,iBAAiB,CAAC,CAAGZ,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAAa,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEU,iBAAiB,CAAEE,uBAAwB,CAAC,CAAGX,SAAS,CAAC,CAAC,CAElEF,SAAS,CAAC,IAAM,CACdc,KAAK,CAAC,iCAAiC,CAAE;AAAA,CACtCC,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,EAAIT,UAAU,CAACS,IAAI,CAAC,CAAC,CAC9BC,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAAC,CACpE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,eAAe,CAAIC,CAAC,EAAK,CAC7BZ,iBAAiB,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CACnC,CAAC,CAED,KAAM,CAAAC,YAAY,CAAIH,CAAC,EAAK,CAC1BA,CAAC,CAACI,cAAc,CAAC,CAAC,CAClB,GAAIjB,cAAc,CAAE,CAClB,KAAM,CAAAkB,kBAAkB,CAAGpB,OAAO,CAACqB,IAAI,CAACC,MAAM,EAAIA,MAAM,CAACC,aAAa,GAAKrB,cAAc,CAAC,CAC1FG,uBAAuB,CAACe,kBAAkB,CAAC,CAC3ChB,QAAQ,UAAAoB,MAAA,CAAUtB,cAAc,CAAE,CAAC,CACrC,CACF,CAAC,CAED,mBACEJ,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB3B,KAAA,SAAM4B,QAAQ,CAAER,YAAa,CAAAO,QAAA,eAC3B7B,IAAA,UAAO+B,OAAO,CAAC,SAAS,CAAAF,QAAA,CAAC,kBAAgB,CAAO,CAAC,cACjD3B,KAAA,WAAQ8B,EAAE,CAAC,SAAS,CAACX,KAAK,CAAEf,cAAe,CAAC2B,QAAQ,CAAEf,eAAgB,CAAAW,QAAA,eACpE7B,IAAA,WAAQqB,KAAK,CAAC,EAAE,CAACa,QAAQ,MAAAL,QAAA,CAAC,iBAAe,CAAQ,CAAC,CACjDzB,OAAO,CAAC+B,GAAG,CAAET,MAAM,eAClBxB,KAAA,WAAmCmB,KAAK,CAAEK,MAAM,CAACC,aAAc,CAAAE,QAAA,EAC5DH,MAAM,CAACC,aAAa,CAAC,KAAG,CAACD,MAAM,CAACU,WAAW,CAAC,MAAI,CAACV,MAAM,CAACW,gBAAgB,GAD9DX,MAAM,CAACC,aAEZ,CACT,CAAC,EACI,CAAC,cACT3B,IAAA,WAAQsC,IAAI,CAAC,QAAQ,CAAAT,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,EACJ,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}