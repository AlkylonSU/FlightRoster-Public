{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{Button,TextField,Box,Typography,Container}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState('');const handleLogin=async event=>{event.preventDefault();try{const response=await axios.post('http://localhost:8080/backend/login/',{username:username,password:password});const token=response.data.token;localStorage.setItem('token',token);window.location.href='/select-flight';// Change '/dashboard' to your desired route\n}catch(error){setError('Invalid username or password');}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign in\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleLogin,noValidate:true,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",autoComplete:\"username\",autoFocus:true,value:username,onChange:e=>setUsername(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",autoComplete:\"current-password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},children:\"Sign In\"}),error&&/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"error\",align:\"center\",children:error})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","axios","Button","TextField","Box","Typography","Container","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","error","setError","handleLogin","event","preventDefault","response","post","token","data","localStorage","setItem","window","location","href","component","maxWidth","children","sx","marginTop","display","flexDirection","alignItems","variant","onSubmit","noValidate","mt","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","e","target","type","mb","color","align"],"sources":["D:/Projects/FlightRoster/Main System/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { Button, TextField, Box, Typography, Container } from '@mui/material';\r\n\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const handleLogin = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const response = await axios.post('http://localhost:8080/backend/login/', {\r\n                username: username,\r\n                password: password\r\n            });\r\n            const token = response.data.token;\r\n            localStorage.setItem('token', token);\r\n            window.location.href = '/select-flight'; // Change '/dashboard' to your desired route\r\n        } catch (error) {\r\n            setError('Invalid username or password');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <Box\r\n                sx={{\r\n                    marginTop: 8,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                }}\r\n            >\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                </Typography>\r\n                <Box component=\"form\" onSubmit={handleLogin} noValidate sx={{ mt: 1 }}>\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"username\"\r\n                        label=\"Username\"\r\n                        name=\"username\"\r\n                        autoComplete=\"username\"\r\n                        autoFocus\r\n                        value={username}\r\n                        onChange={(e) => setUsername(e.target.value)}\r\n                    />\r\n                    <TextField\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        sx={{ mt: 3, mb: 2 }}\r\n                    >\r\n                        Sign In\r\n                    </Button>\r\n                    {error && (\r\n                        <Typography variant=\"body2\" color=\"error\" align=\"center\">\r\n                            {error}\r\n                        </Typography>\r\n                    )}\r\n                </Box>\r\n            </Box>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}