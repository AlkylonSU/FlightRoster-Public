{"ast":null,"code":"// // import React, { useState, useEffect } from 'react';\n// // import { useParams } from 'react-router-dom';\n// // import './ExtendedView.css';\n\n// // const PassengersTable = ({ passengers, onPassengerSelect, onDeletePassenger }) => (\n// //   <div>\n// //     <h2>Passengers</h2>\n// //     <table className=\"passengers-table\">\n// //       <thead>\n// //         <tr>\n// //           <th>ID</th>\n// //           <th>Full Name</th>\n// //           <th>Age</th>\n// //           <th>Gender</th>\n// //           <th>Nationality</th>\n// //           <th>Seat Type</th>\n// //           <th>Children</th>\n// //           <th>Actions</th>\n// //         </tr>\n// //       </thead>\n// //       <tbody>\n// //         {passengers.map((passenger) => (\n// //           <tr key={passenger.passenger_id}>\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_id}</td>\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_name}</td>\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.age}</td>\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.gender}</td>\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.nationality}</td>\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.seat_type}</td>\n// //             <td onClick={() => onPassengerSelect(passenger)}>\n// //               {passenger.children && passenger.children.length > 0 ? (\n// //                 <ul>\n// //                   {passenger.children.map(child => (\n// //                     <li key={child.child_id}>{child.child_name}</li>\n// //                   ))}\n// //                 </ul>\n// //               ) : (\n// //                 \"No children\"\n// //               )}\n// //             </td>\n// //             <td>\n// //               <button onClick={() => onDeletePassenger(passenger.passenger_id)}>Delete</button>\n// //             </td>\n// //           </tr>\n// //         ))}\n// //       </tbody>\n// //     </table>\n// //   </div>\n// // );\n\n// // const CrewTable = ({ crew, onCrewMemberSelect, crewType }) => (\n// //   <div>\n// //     <h2>{crewType} Crew</h2>\n// //     <table className=\"crew-table\">\n// //       <thead>\n// //         <tr>\n// //           <th>ID</th>\n// //           <th>Name</th>\n// //           <th>Age</th>\n// //           <th>Nationality</th>\n// //           <th>Languages</th>\n// //           <th>Seniority Level</th>\n// //           {crew[0]?.vehicle_restriction && <th>Vehicle Restriction</th>}\n// //           {crew[0]?.allowed_range && <th>Allowed Range</th>}\n// //           {crewType === 'Cabin' && <th>Dishes</th>}\n// //         </tr>\n// //       </thead>\n// //       <tbody>\n// //         {crew.map((member) => (\n// //           <tr key={member.pilot_id || member.attendant_id} onClick={() => onCrewMemberSelect(member)}>\n// //             <td>{member.pilot_id || member.attendant_id}</td>\n// //             <td>{member.name}</td>\n// //             <td>{member.age}</td>\n// //             <td>{member.nationality}</td>\n// //             <td>{member.known_languages}</td>\n// //             <td>{member.seniority_level || member.attendant_type}</td>\n// //             {member.vehicle_restriction && <td>{member.vehicle_restriction}</td>}\n// //             {member.allowed_range && <td>{member.allowed_range}</td>}\n// //             {crewType === 'Cabin' && (\n// //               <td>\n// //                 {member.dish_recipes && member.dish_recipes.length > 0 ? (\n// //                   <ul>\n// //                     {member.dish_recipes.map((dish) => (\n// //                       <li key={dish.id}>{dish.recipe_name}</li>\n// //                     ))}\n// //                   </ul>\n// //                 ) : (\n// //                   \"Cabin Crew Member not suitable for dishes\"\n// //                 )}\n// //               </td>\n// //             )}\n// //           </tr>\n// //         ))}\n// //       </tbody>\n// //     </table>\n// //   </div>\n// // );\n\n// // const UserCard = ({ user }) => (\n// //   <div className=\"user-card\">\n// //     <h3>User Information</h3>\n// //     <p><strong>ID:</strong> {user.pilot_id || user.attendant_id || user.passenger_id}</p>\n// //     <p><strong>Name:</strong> {user.name || user.passenger_name}</p>\n// //     <p><strong>Age:</strong> {user.age}</p>\n// //     <p><strong>Gender:</strong> {user.gender}</p>\n// //     <p><strong>Nationality:</strong> {user.nationality}</p>\n// //     {user.seat_type && <p><strong>Seat Type:</strong> {user.seat_type}</p>}\n// //     {user.vehicle_restriction && <p><strong>Vehicle Restriction:</strong> {user.vehicle_restriction}</p>}\n// //     {user.allowed_range && <p><strong>Allowed Range:</strong> {user.allowed_range}</p>}\n// //     {user.known_languages && <p><strong>Languages:</strong> {user.known_languages}</p>}\n// //     {user.attendant_type && <p><strong>Crew Type:</strong> {user.attendant_type}</p>}\n// //     {user.seniority_level && <p><strong>Seniority Level:</strong> {user.seniority_level}</p>}\n// //     {user.children && user.children.length > 0 && (\n// //       <div>\n// //         <h4>Children</h4>\n// //         <ul>\n// //           {user.children.map(child => (\n// //             <li key={child.child_id}>{child.child_name}</li>\n// //           ))}\n// //         </ul>\n// //       </div>\n// //     )}\n// //     {user.dish_recipes && user.dish_recipes.length > 0 ? (\n// //       <div>\n// //         <h4>Dishes</h4>\n// //         <ul>\n// //           {user.dish_recipes.map((dish) => (\n// //             <li key={dish.id}>{dish.recipe_name}</li>\n// //           ))}\n// //         </ul>\n// //       </div>\n// //     ) : (\n// //       <p>Cabin Crew Member not suitable for dishes</p>\n// //     )}\n// //   </div>\n// // );\n\n// // const ExtendedView = () => {\n// //   const { flightNumber } = useParams();\n// //   const [passengers, setPassengers] = useState([]);\n// //   const [flightCrew, setFlightCrew] = useState([]);\n// //   const [cabinCrew, setCabinCrew] = useState([]);\n// //   const [selectedUser, setSelectedUser] = useState(null);\n\n// //   useEffect(() => {\n// //     // Fetch passengers\n// //     fetch(`http://localhost:8000/api/passengerinfo/flight/${flightNumber}/`)\n// //       .then(response => response.json())\n// //       .then(data => setPassengers(data))\n// //       .catch(error => console.error('Error fetching passengers:', error));\n\n// //     // Fetch assigned crew\n// //     fetch(`http://localhost:8080/backend/assigned-crew/${flightNumber}/`, {\n// //       method: 'GET',\n// //     })\n// //       .then(response => response.json())\n// //       .then(data => {\n// //         const flightCrew = data.filter(member => member.type === 'flight');\n// //         const cabinCrew = data.filter(member => member.type === 'cabin');\n// //         setFlightCrew(flightCrew);\n// //         setCabinCrew(cabinCrew);\n// //       })\n// //       .catch(error => console.error('Error fetching crew:', error));\n// //   }, [flightNumber]);\n\n// //   const handlePassengerSelect = (passenger) => {\n// //     setSelectedUser(passenger);\n// //   };\n\n// //   const handleCrewMemberSelect = (member) => {\n// //     setSelectedUser(member);\n// //   };\n\n// //   const handleDeletePassenger = async (passengerId) => {\n// //     try {\n// //       const response = await fetch(`http://localhost:8000/api/passengerinfo/delete-passenger/${passengerId}/`, {\n// //         method: 'DELETE',\n// //       });\n// //       if (response.status === 204) {\n// //         setPassengers(passengers.filter(passenger => passenger.passenger_id !== passengerId));\n// //       } else {\n// //         console.error('Error deleting passenger:', response.statusText);\n// //       }\n// //     } catch (error) {\n// //       console.error('Error deleting passenger:', error);\n// //     }\n// //   };\n\n// //   return (\n// //     <div>\n// //       <h1>Extended View</h1>\n// //       <PassengersTable passengers={passengers} onPassengerSelect={handlePassengerSelect} onDeletePassenger={handleDeletePassenger} />\n// //       <CrewTable crew={flightCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Flight\" />\n// //       <CrewTable crew={cabinCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Cabin\" />\n// //       {selectedUser && <UserCard user={selectedUser} />}\n// //     </div>\n// //   );\n// // };\n\n// // export default ExtendedView;\n\n// import React, { useState, useEffect } from 'react';\n// import { useParams } from 'react-router-dom';\n// import ClipLoader from 'react-spinners/ClipLoader';\n// import './ExtendedView.css';\n\n// const PassengersTable = ({ passengers, onPassengerSelect, onDeletePassenger }) => (\n//   <div>\n//     <h2>Passengers</h2>\n//     <table className=\"passengers-table\">\n//       <thead>\n//         <tr>\n//           <th>ID</th>\n//           <th>Full Name</th>\n//           <th>Age</th>\n//           <th>Gender</th>\n//           <th>Nationality</th>\n//           <th>Seat Type</th>\n//           <th>Children</th>\n//           <th>Actions</th>\n//         </tr>\n//       </thead>\n//       <tbody>\n//         {passengers.map((passenger) => (\n//           <tr key={passenger.passenger_id}>\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_id}</td>\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_name}</td>\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.age}</td>\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.gender}</td>\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.nationality}</td>\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.seat_type}</td>\n//             <td onClick={() => onPassengerSelect(passenger)}>\n//               {passenger.children && passenger.children.length > 0 ? (\n//                 <ul>\n//                   {passenger.children.map(child => (\n//                     <li key={child.child_id}>{child.child_name}</li>\n//                   ))}\n//                 </ul>\n//               ) : (\n//                 \"No children\"\n//               )}\n//             </td>\n//             <td>\n//               <button onClick={() => onDeletePassenger(passenger.passenger_id)}>Delete</button>\n//             </td>\n//           </tr>\n//         ))}\n//       </tbody>\n//     </table>\n//   </div>\n// );\n\n// const CrewTable = ({ crew, onCrewMemberSelect, crewType }) => (\n//   <div>\n//     <h2>{crewType} Crew</h2>\n//     <table className=\"crew-table\">\n//       <thead>\n//         <tr>\n//           <th>ID</th>\n//           <th>Name</th>\n//           <th>Age</th>\n//           <th>Nationality</th>\n//           <th>Languages</th>\n//           <th>Seniority Level</th>\n//           {crew[0]?.vehicle_restriction && <th>Vehicle Restriction</th>}\n//           {crew[0]?.allowed_range && <th>Allowed Range</th>}\n//           {crewType === 'Cabin' && <th>Dishes</th>}\n//         </tr>\n//       </thead>\n//       <tbody>\n//         {crew.map((member) => (\n//           <tr key={member.pilot_id || member.attendant_id} onClick={() => onCrewMemberSelect(member)}>\n//             <td>{member.pilot_id || member.attendant_id}</td>\n//             <td>{member.name}</td>\n//             <td>{member.age}</td>\n//             <td>{member.nationality}</td>\n//             <td>{member.known_languages}</td>\n//             <td>{member.seniority_level || member.attendant_type}</td>\n//             {member.vehicle_restriction && <td>{member.vehicle_restriction}</td>}\n//             {member.allowed_range && <td>{member.allowed_range}</td>}\n//             {crewType === 'Cabin' && (\n//               <td>\n//                 {member.dish_recipes && member.dish_recipes.length > 0 ? (\n//                   <ul>\n//                     {member.dish_recipes.map((dish) => (\n//                       <li key={dish.id}>{dish.recipe_name}</li>\n//                     ))}\n//                   </ul>\n//                 ) : (\n//                   \"Cabin Crew Member not suitable for dishes\"\n//                 )}\n//               </td>\n//             )}\n//           </tr>\n//         ))}\n//       </tbody>\n//     </table>\n//   </div>\n// );\n\n// const UserCard = ({ user }) => (\n//   <div className=\"user-card\">\n//     <h3>User Information</h3>\n//     <p><strong>ID:</strong> {user.pilot_id || user.attendant_id || user.passenger_id}</p>\n//     <p><strong>Name:</strong> {user.name || user.passenger_name}</p>\n//     <p><strong>Age:</strong> {user.age}</p>\n//     <p><strong>Gender:</strong> {user.gender}</p>\n//     <p><strong>Nationality:</strong> {user.nationality}</p>\n//     {user.seat_type && <p><strong>Seat Type:</strong> {user.seat_type}</p>}\n//     {user.vehicle_restriction && <p><strong>Vehicle Restriction:</strong> {user.vehicle_restriction}</p>}\n//     {user.allowed_range && <p><strong>Allowed Range:</strong> {user.allowed_range}</p>}\n//     {user.known_languages && <p><strong>Languages:</strong> {user.known_languages}</p>}\n//     {user.attendant_type && <p><strong>Crew Type:</strong> {user.attendant_type}</p>}\n//     {user.seniority_level && <p><strong>Seniority Level:</strong> {user.seniority_level}</p>}\n//     {user.children && user.children.length > 0 && (\n//       <div>\n//         <h4>Children</h4>\n//         <ul>\n//           {user.children.map(child => (\n//             <li key={child.child_id}>{child.child_name}</li>\n//           ))}\n//         </ul>\n//       </div>\n//     )}\n//     {user.dish_recipes && user.dish_recipes.length > 0 ? (\n//       <div>\n//         <h4>Dishes</h4>\n//         <ul>\n//           {user.dish_recipes.map((dish) => (\n//             <li key={dish.id}>{dish.recipe_name}</li>\n//           ))}\n//         </ul>\n//       </div>\n//     ) : (\n//       <p>Cabin Crew Member not suitable for dishes</p>\n//     )}\n//   </div>\n// );\n\n// const ExtendedView = () => {\n//   const { flightNumber } = useParams();\n//   const [passengers, setPassengers] = useState([]);\n//   const [flightCrew, setFlightCrew] = useState([]);\n//   const [cabinCrew, setCabinCrew] = useState([]);\n//   const [selectedUser, setSelectedUser] = useState(null);\n//   const [loading, setLoading] = useState(true); // Add loading state\n\n//   useEffect(() => {\n//     // Fetch passengers\n//     fetch(`http://159.20.87.158:8000/api/passengerinfo/flight/${flightNumber}/`)\n//       .then(response => response.json())\n//       .then(data => {\n//         setPassengers(data);\n//         setLoading(false); // Set loading to false after fetching passengers\n//       })\n//       .catch(error => {\n//         console.error('Error fetching passengers:', error);\n//         setLoading(false); // Set loading to false even if there's an error\n//       });\n\n//     // Fetch assigned crew\n//     fetch(`http://159.20.87.158:8080/backend/assigned-crew/${flightNumber}/`, {\n//       method: 'GET',\n//     })\n//       .then(response => response.json())\n//       .then(data => {\n//         const flightCrew = data.filter(member => member.type === 'flight');\n//         const cabinCrew = data.filter(member => member.type === 'cabin');\n//         setFlightCrew(flightCrew);\n//         setCabinCrew(cabinCrew);\n//       })\n//       .catch(error => console.error('Error fetching crew:', error));\n//   }, [flightNumber]);\n\n//   const handlePassengerSelect = (passenger) => {\n//     setSelectedUser(passenger);\n//   };\n\n//   const handleCrewMemberSelect = (member) => {\n//     setSelectedUser(member);\n//   };\n\n//   const handleDeletePassenger = async (passengerId) => {\n//     try {\n//       const response = await fetch(`http://159.20.87.158:8000/api/passengerinfo/delete-passenger/${passengerId}/`, {\n//         method: 'DELETE',\n//       });\n//       if (response.status === 204) {\n//         setPassengers(passengers.filter(passenger => passenger.passenger_id !== passengerId));\n//       } else {\n//         console.error('Error deleting passenger:', response.statusText);\n//       }\n//     } catch (error) {\n//       console.error('Error deleting passenger:', error);\n//     }\n//   };\n\n//   return (\n//     <div>\n//       <h1>Extended View</h1>\n//       {loading ? (\n//         <div\n//           style={{\n//             display: 'flex',\n//             justifyContent: 'center',\n//             alignItems: 'center',\n//             height: '80vh',\n//             flexDirection: 'column'\n//           }}\n//         >\n//           <ClipLoader size={50} color={\"#123abc\"} loading={loading} />\n//           <p>Loading data, please wait...</p>\n//         </div>\n//       ) : (\n//         <>\n//           <PassengersTable passengers={passengers} onPassengerSelect={handlePassengerSelect} onDeletePassenger={handleDeletePassenger} />\n//           <CrewTable crew={flightCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Flight\" />\n//           <CrewTable crew={cabinCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Cabin\" />\n//           {selectedUser && <UserCard user={selectedUser} />}\n//         </>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default ExtendedView;","map":{"version":3,"names":[],"sources":["/Users/hamza/Desktop/308/FlightRoster/Main System/frontend/src/components/views/ExtendedView.js"],"sourcesContent":["// // import React, { useState, useEffect } from 'react';\r\n// // import { useParams } from 'react-router-dom';\r\n// // import './ExtendedView.css';\r\n\r\n// // const PassengersTable = ({ passengers, onPassengerSelect, onDeletePassenger }) => (\r\n// //   <div>\r\n// //     <h2>Passengers</h2>\r\n// //     <table className=\"passengers-table\">\r\n// //       <thead>\r\n// //         <tr>\r\n// //           <th>ID</th>\r\n// //           <th>Full Name</th>\r\n// //           <th>Age</th>\r\n// //           <th>Gender</th>\r\n// //           <th>Nationality</th>\r\n// //           <th>Seat Type</th>\r\n// //           <th>Children</th>\r\n// //           <th>Actions</th>\r\n// //         </tr>\r\n// //       </thead>\r\n// //       <tbody>\r\n// //         {passengers.map((passenger) => (\r\n// //           <tr key={passenger.passenger_id}>\r\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_id}</td>\r\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_name}</td>\r\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.age}</td>\r\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.gender}</td>\r\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.nationality}</td>\r\n// //             <td onClick={() => onPassengerSelect(passenger)}>{passenger.seat_type}</td>\r\n// //             <td onClick={() => onPassengerSelect(passenger)}>\r\n// //               {passenger.children && passenger.children.length > 0 ? (\r\n// //                 <ul>\r\n// //                   {passenger.children.map(child => (\r\n// //                     <li key={child.child_id}>{child.child_name}</li>\r\n// //                   ))}\r\n// //                 </ul>\r\n// //               ) : (\r\n// //                 \"No children\"\r\n// //               )}\r\n// //             </td>\r\n// //             <td>\r\n// //               <button onClick={() => onDeletePassenger(passenger.passenger_id)}>Delete</button>\r\n// //             </td>\r\n// //           </tr>\r\n// //         ))}\r\n// //       </tbody>\r\n// //     </table>\r\n// //   </div>\r\n// // );\r\n\r\n// // const CrewTable = ({ crew, onCrewMemberSelect, crewType }) => (\r\n// //   <div>\r\n// //     <h2>{crewType} Crew</h2>\r\n// //     <table className=\"crew-table\">\r\n// //       <thead>\r\n// //         <tr>\r\n// //           <th>ID</th>\r\n// //           <th>Name</th>\r\n// //           <th>Age</th>\r\n// //           <th>Nationality</th>\r\n// //           <th>Languages</th>\r\n// //           <th>Seniority Level</th>\r\n// //           {crew[0]?.vehicle_restriction && <th>Vehicle Restriction</th>}\r\n// //           {crew[0]?.allowed_range && <th>Allowed Range</th>}\r\n// //           {crewType === 'Cabin' && <th>Dishes</th>}\r\n// //         </tr>\r\n// //       </thead>\r\n// //       <tbody>\r\n// //         {crew.map((member) => (\r\n// //           <tr key={member.pilot_id || member.attendant_id} onClick={() => onCrewMemberSelect(member)}>\r\n// //             <td>{member.pilot_id || member.attendant_id}</td>\r\n// //             <td>{member.name}</td>\r\n// //             <td>{member.age}</td>\r\n// //             <td>{member.nationality}</td>\r\n// //             <td>{member.known_languages}</td>\r\n// //             <td>{member.seniority_level || member.attendant_type}</td>\r\n// //             {member.vehicle_restriction && <td>{member.vehicle_restriction}</td>}\r\n// //             {member.allowed_range && <td>{member.allowed_range}</td>}\r\n// //             {crewType === 'Cabin' && (\r\n// //               <td>\r\n// //                 {member.dish_recipes && member.dish_recipes.length > 0 ? (\r\n// //                   <ul>\r\n// //                     {member.dish_recipes.map((dish) => (\r\n// //                       <li key={dish.id}>{dish.recipe_name}</li>\r\n// //                     ))}\r\n// //                   </ul>\r\n// //                 ) : (\r\n// //                   \"Cabin Crew Member not suitable for dishes\"\r\n// //                 )}\r\n// //               </td>\r\n// //             )}\r\n// //           </tr>\r\n// //         ))}\r\n// //       </tbody>\r\n// //     </table>\r\n// //   </div>\r\n// // );\r\n\r\n// // const UserCard = ({ user }) => (\r\n// //   <div className=\"user-card\">\r\n// //     <h3>User Information</h3>\r\n// //     <p><strong>ID:</strong> {user.pilot_id || user.attendant_id || user.passenger_id}</p>\r\n// //     <p><strong>Name:</strong> {user.name || user.passenger_name}</p>\r\n// //     <p><strong>Age:</strong> {user.age}</p>\r\n// //     <p><strong>Gender:</strong> {user.gender}</p>\r\n// //     <p><strong>Nationality:</strong> {user.nationality}</p>\r\n// //     {user.seat_type && <p><strong>Seat Type:</strong> {user.seat_type}</p>}\r\n// //     {user.vehicle_restriction && <p><strong>Vehicle Restriction:</strong> {user.vehicle_restriction}</p>}\r\n// //     {user.allowed_range && <p><strong>Allowed Range:</strong> {user.allowed_range}</p>}\r\n// //     {user.known_languages && <p><strong>Languages:</strong> {user.known_languages}</p>}\r\n// //     {user.attendant_type && <p><strong>Crew Type:</strong> {user.attendant_type}</p>}\r\n// //     {user.seniority_level && <p><strong>Seniority Level:</strong> {user.seniority_level}</p>}\r\n// //     {user.children && user.children.length > 0 && (\r\n// //       <div>\r\n// //         <h4>Children</h4>\r\n// //         <ul>\r\n// //           {user.children.map(child => (\r\n// //             <li key={child.child_id}>{child.child_name}</li>\r\n// //           ))}\r\n// //         </ul>\r\n// //       </div>\r\n// //     )}\r\n// //     {user.dish_recipes && user.dish_recipes.length > 0 ? (\r\n// //       <div>\r\n// //         <h4>Dishes</h4>\r\n// //         <ul>\r\n// //           {user.dish_recipes.map((dish) => (\r\n// //             <li key={dish.id}>{dish.recipe_name}</li>\r\n// //           ))}\r\n// //         </ul>\r\n// //       </div>\r\n// //     ) : (\r\n// //       <p>Cabin Crew Member not suitable for dishes</p>\r\n// //     )}\r\n// //   </div>\r\n// // );\r\n\r\n// // const ExtendedView = () => {\r\n// //   const { flightNumber } = useParams();\r\n// //   const [passengers, setPassengers] = useState([]);\r\n// //   const [flightCrew, setFlightCrew] = useState([]);\r\n// //   const [cabinCrew, setCabinCrew] = useState([]);\r\n// //   const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n// //   useEffect(() => {\r\n// //     // Fetch passengers\r\n// //     fetch(`http://localhost:8000/api/passengerinfo/flight/${flightNumber}/`)\r\n// //       .then(response => response.json())\r\n// //       .then(data => setPassengers(data))\r\n// //       .catch(error => console.error('Error fetching passengers:', error));\r\n\r\n// //     // Fetch assigned crew\r\n// //     fetch(`http://localhost:8080/backend/assigned-crew/${flightNumber}/`, {\r\n// //       method: 'GET',\r\n// //     })\r\n// //       .then(response => response.json())\r\n// //       .then(data => {\r\n// //         const flightCrew = data.filter(member => member.type === 'flight');\r\n// //         const cabinCrew = data.filter(member => member.type === 'cabin');\r\n// //         setFlightCrew(flightCrew);\r\n// //         setCabinCrew(cabinCrew);\r\n// //       })\r\n// //       .catch(error => console.error('Error fetching crew:', error));\r\n// //   }, [flightNumber]);\r\n\r\n// //   const handlePassengerSelect = (passenger) => {\r\n// //     setSelectedUser(passenger);\r\n// //   };\r\n\r\n// //   const handleCrewMemberSelect = (member) => {\r\n// //     setSelectedUser(member);\r\n// //   };\r\n\r\n// //   const handleDeletePassenger = async (passengerId) => {\r\n// //     try {\r\n// //       const response = await fetch(`http://localhost:8000/api/passengerinfo/delete-passenger/${passengerId}/`, {\r\n// //         method: 'DELETE',\r\n// //       });\r\n// //       if (response.status === 204) {\r\n// //         setPassengers(passengers.filter(passenger => passenger.passenger_id !== passengerId));\r\n// //       } else {\r\n// //         console.error('Error deleting passenger:', response.statusText);\r\n// //       }\r\n// //     } catch (error) {\r\n// //       console.error('Error deleting passenger:', error);\r\n// //     }\r\n// //   };\r\n\r\n// //   return (\r\n// //     <div>\r\n// //       <h1>Extended View</h1>\r\n// //       <PassengersTable passengers={passengers} onPassengerSelect={handlePassengerSelect} onDeletePassenger={handleDeletePassenger} />\r\n// //       <CrewTable crew={flightCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Flight\" />\r\n// //       <CrewTable crew={cabinCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Cabin\" />\r\n// //       {selectedUser && <UserCard user={selectedUser} />}\r\n// //     </div>\r\n// //   );\r\n// // };\r\n\r\n// // export default ExtendedView;\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n// import { useParams } from 'react-router-dom';\r\n// import ClipLoader from 'react-spinners/ClipLoader';\r\n// import './ExtendedView.css';\r\n\r\n// const PassengersTable = ({ passengers, onPassengerSelect, onDeletePassenger }) => (\r\n//   <div>\r\n//     <h2>Passengers</h2>\r\n//     <table className=\"passengers-table\">\r\n//       <thead>\r\n//         <tr>\r\n//           <th>ID</th>\r\n//           <th>Full Name</th>\r\n//           <th>Age</th>\r\n//           <th>Gender</th>\r\n//           <th>Nationality</th>\r\n//           <th>Seat Type</th>\r\n//           <th>Children</th>\r\n//           <th>Actions</th>\r\n//         </tr>\r\n//       </thead>\r\n//       <tbody>\r\n//         {passengers.map((passenger) => (\r\n//           <tr key={passenger.passenger_id}>\r\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_id}</td>\r\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.passenger_name}</td>\r\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.age}</td>\r\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.gender}</td>\r\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.nationality}</td>\r\n//             <td onClick={() => onPassengerSelect(passenger)}>{passenger.seat_type}</td>\r\n//             <td onClick={() => onPassengerSelect(passenger)}>\r\n//               {passenger.children && passenger.children.length > 0 ? (\r\n//                 <ul>\r\n//                   {passenger.children.map(child => (\r\n//                     <li key={child.child_id}>{child.child_name}</li>\r\n//                   ))}\r\n//                 </ul>\r\n//               ) : (\r\n//                 \"No children\"\r\n//               )}\r\n//             </td>\r\n//             <td>\r\n//               <button onClick={() => onDeletePassenger(passenger.passenger_id)}>Delete</button>\r\n//             </td>\r\n//           </tr>\r\n//         ))}\r\n//       </tbody>\r\n//     </table>\r\n//   </div>\r\n// );\r\n\r\n// const CrewTable = ({ crew, onCrewMemberSelect, crewType }) => (\r\n//   <div>\r\n//     <h2>{crewType} Crew</h2>\r\n//     <table className=\"crew-table\">\r\n//       <thead>\r\n//         <tr>\r\n//           <th>ID</th>\r\n//           <th>Name</th>\r\n//           <th>Age</th>\r\n//           <th>Nationality</th>\r\n//           <th>Languages</th>\r\n//           <th>Seniority Level</th>\r\n//           {crew[0]?.vehicle_restriction && <th>Vehicle Restriction</th>}\r\n//           {crew[0]?.allowed_range && <th>Allowed Range</th>}\r\n//           {crewType === 'Cabin' && <th>Dishes</th>}\r\n//         </tr>\r\n//       </thead>\r\n//       <tbody>\r\n//         {crew.map((member) => (\r\n//           <tr key={member.pilot_id || member.attendant_id} onClick={() => onCrewMemberSelect(member)}>\r\n//             <td>{member.pilot_id || member.attendant_id}</td>\r\n//             <td>{member.name}</td>\r\n//             <td>{member.age}</td>\r\n//             <td>{member.nationality}</td>\r\n//             <td>{member.known_languages}</td>\r\n//             <td>{member.seniority_level || member.attendant_type}</td>\r\n//             {member.vehicle_restriction && <td>{member.vehicle_restriction}</td>}\r\n//             {member.allowed_range && <td>{member.allowed_range}</td>}\r\n//             {crewType === 'Cabin' && (\r\n//               <td>\r\n//                 {member.dish_recipes && member.dish_recipes.length > 0 ? (\r\n//                   <ul>\r\n//                     {member.dish_recipes.map((dish) => (\r\n//                       <li key={dish.id}>{dish.recipe_name}</li>\r\n//                     ))}\r\n//                   </ul>\r\n//                 ) : (\r\n//                   \"Cabin Crew Member not suitable for dishes\"\r\n//                 )}\r\n//               </td>\r\n//             )}\r\n//           </tr>\r\n//         ))}\r\n//       </tbody>\r\n//     </table>\r\n//   </div>\r\n// );\r\n\r\n// const UserCard = ({ user }) => (\r\n//   <div className=\"user-card\">\r\n//     <h3>User Information</h3>\r\n//     <p><strong>ID:</strong> {user.pilot_id || user.attendant_id || user.passenger_id}</p>\r\n//     <p><strong>Name:</strong> {user.name || user.passenger_name}</p>\r\n//     <p><strong>Age:</strong> {user.age}</p>\r\n//     <p><strong>Gender:</strong> {user.gender}</p>\r\n//     <p><strong>Nationality:</strong> {user.nationality}</p>\r\n//     {user.seat_type && <p><strong>Seat Type:</strong> {user.seat_type}</p>}\r\n//     {user.vehicle_restriction && <p><strong>Vehicle Restriction:</strong> {user.vehicle_restriction}</p>}\r\n//     {user.allowed_range && <p><strong>Allowed Range:</strong> {user.allowed_range}</p>}\r\n//     {user.known_languages && <p><strong>Languages:</strong> {user.known_languages}</p>}\r\n//     {user.attendant_type && <p><strong>Crew Type:</strong> {user.attendant_type}</p>}\r\n//     {user.seniority_level && <p><strong>Seniority Level:</strong> {user.seniority_level}</p>}\r\n//     {user.children && user.children.length > 0 && (\r\n//       <div>\r\n//         <h4>Children</h4>\r\n//         <ul>\r\n//           {user.children.map(child => (\r\n//             <li key={child.child_id}>{child.child_name}</li>\r\n//           ))}\r\n//         </ul>\r\n//       </div>\r\n//     )}\r\n//     {user.dish_recipes && user.dish_recipes.length > 0 ? (\r\n//       <div>\r\n//         <h4>Dishes</h4>\r\n//         <ul>\r\n//           {user.dish_recipes.map((dish) => (\r\n//             <li key={dish.id}>{dish.recipe_name}</li>\r\n//           ))}\r\n//         </ul>\r\n//       </div>\r\n//     ) : (\r\n//       <p>Cabin Crew Member not suitable for dishes</p>\r\n//     )}\r\n//   </div>\r\n// );\r\n\r\n// const ExtendedView = () => {\r\n//   const { flightNumber } = useParams();\r\n//   const [passengers, setPassengers] = useState([]);\r\n//   const [flightCrew, setFlightCrew] = useState([]);\r\n//   const [cabinCrew, setCabinCrew] = useState([]);\r\n//   const [selectedUser, setSelectedUser] = useState(null);\r\n//   const [loading, setLoading] = useState(true); // Add loading state\r\n\r\n//   useEffect(() => {\r\n//     // Fetch passengers\r\n//     fetch(`http://159.20.87.158:8000/api/passengerinfo/flight/${flightNumber}/`)\r\n//       .then(response => response.json())\r\n//       .then(data => {\r\n//         setPassengers(data);\r\n//         setLoading(false); // Set loading to false after fetching passengers\r\n//       })\r\n//       .catch(error => {\r\n//         console.error('Error fetching passengers:', error);\r\n//         setLoading(false); // Set loading to false even if there's an error\r\n//       });\r\n\r\n//     // Fetch assigned crew\r\n//     fetch(`http://159.20.87.158:8080/backend/assigned-crew/${flightNumber}/`, {\r\n//       method: 'GET',\r\n//     })\r\n//       .then(response => response.json())\r\n//       .then(data => {\r\n//         const flightCrew = data.filter(member => member.type === 'flight');\r\n//         const cabinCrew = data.filter(member => member.type === 'cabin');\r\n//         setFlightCrew(flightCrew);\r\n//         setCabinCrew(cabinCrew);\r\n//       })\r\n//       .catch(error => console.error('Error fetching crew:', error));\r\n//   }, [flightNumber]);\r\n\r\n//   const handlePassengerSelect = (passenger) => {\r\n//     setSelectedUser(passenger);\r\n//   };\r\n\r\n//   const handleCrewMemberSelect = (member) => {\r\n//     setSelectedUser(member);\r\n//   };\r\n\r\n//   const handleDeletePassenger = async (passengerId) => {\r\n//     try {\r\n//       const response = await fetch(`http://159.20.87.158:8000/api/passengerinfo/delete-passenger/${passengerId}/`, {\r\n//         method: 'DELETE',\r\n//       });\r\n//       if (response.status === 204) {\r\n//         setPassengers(passengers.filter(passenger => passenger.passenger_id !== passengerId));\r\n//       } else {\r\n//         console.error('Error deleting passenger:', response.statusText);\r\n//       }\r\n//     } catch (error) {\r\n//       console.error('Error deleting passenger:', error);\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div>\r\n//       <h1>Extended View</h1>\r\n//       {loading ? (\r\n//         <div\r\n//           style={{\r\n//             display: 'flex',\r\n//             justifyContent: 'center',\r\n//             alignItems: 'center',\r\n//             height: '80vh',\r\n//             flexDirection: 'column'\r\n//           }}\r\n//         >\r\n//           <ClipLoader size={50} color={\"#123abc\"} loading={loading} />\r\n//           <p>Loading data, please wait...</p>\r\n//         </div>\r\n//       ) : (\r\n//         <>\r\n//           <PassengersTable passengers={passengers} onPassengerSelect={handlePassengerSelect} onDeletePassenger={handleDeletePassenger} />\r\n//           <CrewTable crew={flightCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Flight\" />\r\n//           <CrewTable crew={cabinCrew} onCrewMemberSelect={handleCrewMemberSelect} crewType=\"Cabin\" />\r\n//           {selectedUser && <UserCard user={selectedUser} />}\r\n//         </>\r\n//       )}\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default ExtendedView;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}