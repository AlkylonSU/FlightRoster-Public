{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { useParams } from 'react-router-dom';\n// import './PassengerTable.css'; // Import CSS file for styling\n\n// const CombinedTable = ({ data }) => {\n//   const [selectedPerson, setSelectedPerson] = useState(null);\n\n//   const handleRowClick = (person) => {\n//     setSelectedPerson(person);\n//   };\n\n//   return (\n//     <div>\n//       <h2>All People on the Flight</h2>\n//       <table className=\"passenger-table\">\n//         <thead>\n//           <tr>\n//             <th>ID</th>\n//             <th>Type</th>\n//             <th>Full Name</th>\n//             <th>Age</th>\n//             <th>Gender</th>\n//             <th>Nationality</th>\n//             <th>Additional Info</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {data.map((person) => (\n//             <tr key={person.id} onClick={() => handleRowClick(person)}>\n//               <td>{person.id}</td>\n//               <td>{person.type}</td>\n//               <td>{person.name}</td>\n//               <td>{person.age}</td>\n//               <td>{person.gender}</td>\n//               <td>{person.nationality}</td>\n//               <td>{person.additionalInfo}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//       {selectedPerson && (\n//         <div className=\"user-card\">\n//           <h3>User Information</h3>\n//           <p><strong>ID:</strong> {selectedPerson.id}</p>\n//           <p><strong>Name:</strong> {selectedPerson.name}</p>\n//           <p><strong>Age:</strong> {selectedPerson.age}</p>\n//           <p><strong>Gender:</strong> {selectedPerson.gender}</p>\n//           <p><strong>Nationality:</strong> {selectedPerson.nationality}</p>\n//           <p><strong>Type:</strong> {selectedPerson.type}</p>\n//           <p><strong>Additional Info:</strong> {selectedPerson.additionalInfo}</p>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// const TabularView = () => {\n//   const { flightNumber } = useParams();\n//   const [data, setData] = useState([]);\n\n//   useEffect(() => {\n//     const fetchPassengers = async () => {\n//       try {\n//         const response = await fetch(`http://159.20.87.158:8000/api/passengerinfo/flight/${flightNumber}/`);\n//         const passengers = await response.json();\n//         console.log('Passengers:', passengers); // Debug log\n//         const formattedPassengers = passengers.map(passenger => ({\n//           id: passenger.passenger_id,\n//           type: 'Passenger',\n//           name: passenger.passenger_name,\n//           age: passenger.age,\n//           gender: passenger.gender,\n//           nationality: passenger.nationality,\n//           additionalInfo: `Seat Type: ${passenger.seat_type}, Children: ${\n//             passenger.children && passenger.children.length > 0\n//               ? passenger.children.map(child => child.child_name).join(', ')\n//               : 'No children'\n//           }`\n//         }));\n//         return formattedPassengers;\n//       } catch (error) {\n//         console.error('Error fetching passengers:', error);\n//         return [];\n//       }\n//     };\n\n//     const fetchCrew = async () => {\n//       try {\n//         const response = await fetch(`http://159.20.87.158:8080/backend/assigned-crew/${flightNumber}/`);\n//         const crew = await response.json();\n//         console.log('Crew:', crew); // Debug log\n\n//         const formattedCrew = crew.map(crewMember => {\n//           const isFlightCrew = crewMember.type === 'flight';\n//           const id = isFlightCrew ? crewMember.pilot_id : crewMember.attendant_id;\n//           const additionalInfo = isFlightCrew\n//             ? `Vehicle Restriction: ${crewMember.vehicle_restriction || 'N/A'}, Allowed Range: ${crewMember.allowed_range || 'N/A'}, Seniority Level: ${crewMember.seniority_level || 'N/A'}`\n//             : `Vehicle Restrictions: ${crewMember.vehicle_restrictions || 'N/A'}, Attendant Type: ${crewMember.attendant_type || 'N/A'}, Dishes: ${\n//                 crewMember.dish_recipes && crewMember.dish_recipes.length > 0\n//                   ? crewMember.dish_recipes.map(dish => dish.recipe_name).join(', ')\n//                   : 'Cabin Crew Member not suitable for dishes'\n//               }`;\n\n//           return {\n//             id,\n//             type: isFlightCrew ? 'Flight Crew' : 'Cabin Crew',\n//             name: crewMember.name,\n//             age: crewMember.age,\n//             gender: crewMember.gender,\n//             nationality: crewMember.nationality,\n//             additionalInfo\n//           };\n//         });\n//         return formattedCrew;\n//       } catch (error) {\n//         console.error('Error fetching crew:', error);\n//         return [];\n//       }\n//     };\n\n//     const fetchData = async () => {\n//       const passengers = await fetchPassengers();\n//       const crew = await fetchCrew();\n//       setData([...passengers, ...crew]);\n//     };\n\n//     fetchData();\n//   }, [flightNumber]);\n\n//   return (\n//     <div>\n//       <h1>Tabular View - Interior of the Plane</h1>\n//       <CombinedTable data={data} />\n//     </div>\n//   );\n// };\n\n// export default TabularView;","map":{"version":3,"names":[],"sources":["/Users/hamza/Desktop/308/FlightRoster/Main System/frontend/src/components/views/TabularView.js"],"sourcesContent":["// import React, { useState, useEffect } from 'react';\n// import { useParams } from 'react-router-dom';\n// import './PassengerTable.css'; // Import CSS file for styling\n\n// const CombinedTable = ({ data }) => {\n//   const [selectedPerson, setSelectedPerson] = useState(null);\n\n//   const handleRowClick = (person) => {\n//     setSelectedPerson(person);\n//   };\n\n//   return (\n//     <div>\n//       <h2>All People on the Flight</h2>\n//       <table className=\"passenger-table\">\n//         <thead>\n//           <tr>\n//             <th>ID</th>\n//             <th>Type</th>\n//             <th>Full Name</th>\n//             <th>Age</th>\n//             <th>Gender</th>\n//             <th>Nationality</th>\n//             <th>Additional Info</th>\n//           </tr>\n//         </thead>\n//         <tbody>\n//           {data.map((person) => (\n//             <tr key={person.id} onClick={() => handleRowClick(person)}>\n//               <td>{person.id}</td>\n//               <td>{person.type}</td>\n//               <td>{person.name}</td>\n//               <td>{person.age}</td>\n//               <td>{person.gender}</td>\n//               <td>{person.nationality}</td>\n//               <td>{person.additionalInfo}</td>\n//             </tr>\n//           ))}\n//         </tbody>\n//       </table>\n//       {selectedPerson && (\n//         <div className=\"user-card\">\n//           <h3>User Information</h3>\n//           <p><strong>ID:</strong> {selectedPerson.id}</p>\n//           <p><strong>Name:</strong> {selectedPerson.name}</p>\n//           <p><strong>Age:</strong> {selectedPerson.age}</p>\n//           <p><strong>Gender:</strong> {selectedPerson.gender}</p>\n//           <p><strong>Nationality:</strong> {selectedPerson.nationality}</p>\n//           <p><strong>Type:</strong> {selectedPerson.type}</p>\n//           <p><strong>Additional Info:</strong> {selectedPerson.additionalInfo}</p>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// const TabularView = () => {\n//   const { flightNumber } = useParams();\n//   const [data, setData] = useState([]);\n\n//   useEffect(() => {\n//     const fetchPassengers = async () => {\n//       try {\n//         const response = await fetch(`http://159.20.87.158:8000/api/passengerinfo/flight/${flightNumber}/`);\n//         const passengers = await response.json();\n//         console.log('Passengers:', passengers); // Debug log\n//         const formattedPassengers = passengers.map(passenger => ({\n//           id: passenger.passenger_id,\n//           type: 'Passenger',\n//           name: passenger.passenger_name,\n//           age: passenger.age,\n//           gender: passenger.gender,\n//           nationality: passenger.nationality,\n//           additionalInfo: `Seat Type: ${passenger.seat_type}, Children: ${\n//             passenger.children && passenger.children.length > 0\n//               ? passenger.children.map(child => child.child_name).join(', ')\n//               : 'No children'\n//           }`\n//         }));\n//         return formattedPassengers;\n//       } catch (error) {\n//         console.error('Error fetching passengers:', error);\n//         return [];\n//       }\n//     };\n\n//     const fetchCrew = async () => {\n//       try {\n//         const response = await fetch(`http://159.20.87.158:8080/backend/assigned-crew/${flightNumber}/`);\n//         const crew = await response.json();\n//         console.log('Crew:', crew); // Debug log\n\n//         const formattedCrew = crew.map(crewMember => {\n//           const isFlightCrew = crewMember.type === 'flight';\n//           const id = isFlightCrew ? crewMember.pilot_id : crewMember.attendant_id;\n//           const additionalInfo = isFlightCrew\n//             ? `Vehicle Restriction: ${crewMember.vehicle_restriction || 'N/A'}, Allowed Range: ${crewMember.allowed_range || 'N/A'}, Seniority Level: ${crewMember.seniority_level || 'N/A'}`\n//             : `Vehicle Restrictions: ${crewMember.vehicle_restrictions || 'N/A'}, Attendant Type: ${crewMember.attendant_type || 'N/A'}, Dishes: ${\n//                 crewMember.dish_recipes && crewMember.dish_recipes.length > 0\n//                   ? crewMember.dish_recipes.map(dish => dish.recipe_name).join(', ')\n//                   : 'Cabin Crew Member not suitable for dishes'\n//               }`;\n\n//           return {\n//             id,\n//             type: isFlightCrew ? 'Flight Crew' : 'Cabin Crew',\n//             name: crewMember.name,\n//             age: crewMember.age,\n//             gender: crewMember.gender,\n//             nationality: crewMember.nationality,\n//             additionalInfo\n//           };\n//         });\n//         return formattedCrew;\n//       } catch (error) {\n//         console.error('Error fetching crew:', error);\n//         return [];\n//       }\n//     };\n\n//     const fetchData = async () => {\n//       const passengers = await fetchPassengers();\n//       const crew = await fetchCrew();\n//       setData([...passengers, ...crew]);\n//     };\n\n//     fetchData();\n//   }, [flightNumber]);\n\n//   return (\n//     <div>\n//       <h1>Tabular View - Interior of the Plane</h1>\n//       <CombinedTable data={data} />\n//     </div>\n//   );\n// };\n\n// export default TabularView;\n\n\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}